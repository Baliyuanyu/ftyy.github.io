<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>从指南开始の十堰一中生活</title>
  <style>
    :root {
      --primary: #2c5aa0;   /* 校徽蓝 */
      --accent: #f5c32c;    /* 银杏黄 */
      --light: #f8f9fa;
      --dark: #1a365d;
      --glass-bg: rgba(255, 255, 255, 0.85);
      --shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
      --transition: all 0.3s ease;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, #f0f9ff 0%, #e6f7ff 100%);
      min-height: 100vh;
      padding: 60px 20px 80px;
      position: relative;
      overflow-x: hidden;
    }
    
    /* 玻璃态卡片 */
    .glass-card {
      background: var(--glass-bg);
      backdrop-filter: blur(12px);
      border-radius: 16px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(255, 255, 255, 0.18);
    }
    
    /* 顶部导航 */
    .global-header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: var(--glass-bg);
      box-shadow: var(--shadow);
      padding: 12px 20px;
      display: flex;
      align-items: center;
      z-index: 1000;
    }
    .logo {
      font-weight: 700;
      font-size: 1.2rem;
      color: var(--primary);
      text-decoration: none;
    }
    .breadcrumb {
      margin-left: 15px;
      font-size: 0.9rem;
      color: #666;
    }
    #sidebarToggle {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      margin-right: 10px;
    }
    
    /* 全局搜索 */
    .global-search {
      margin-left: auto;
      position: relative;
    }
    .global-search input {
      padding: 8px 12px;
      border-radius: 20px;
      border: 1px solid #ddd;
      width: 200px;
    }
    .suggestions-box {
      position: absolute;
      top: 40px;
      left: 0;
      width: 300px;
      max-height: 300px;
      overflow-y: auto;
      display: none;
    }
    
    /* 内容区域 */
    .content-section {
      position: absolute;
      width: 100%;
      padding: 20px;
      opacity: 0;
      transform: translateY(20px);
      transition: var(--transition);
      pointer-events: none;
    }
    .content-section.active {
      opacity: 1;
      transform: translateY(0);
      pointer-events: all;
    }
    
    /* 首页样式 */
    #home {
      text-align: center;
      padding-top: 40px;
    }
    #home h1 {
      font-size: 2.2rem;
      color: var(--dark);
      margin-bottom: 20px;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    }
    #home p {
      font-size: 1.1rem;
      color: #666;
      margin-bottom: 40px;
    }
    
    /* 按钮网格 */
    .button-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }
    .nav-button {
      background: white;
      border: none;
      border-radius: 12px;
      padding: 20px 15px;
      box-shadow: var(--shadow);
      transition: var(--transition);
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      min-height: 150px;
      justify-content: center;
    }
    .nav-button:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 30px rgba(0,0,0,0.1);
    }
    .nav-button img {
      width: 50px;
      height: 50px;
      margin-bottom: 15px;
      object-fit: contain;
    }
    .nav-button span {
      font-weight: 600;
      font-size: 1.1rem;
      color: var(--dark);
    }
    
    /* 侧边目录 */
    #sidebar {
      position: fixed;
      top: 0;
      left: -300px;
      width: 280px;
      height: 100vh;
      background: var(--glass-bg);
      box-shadow: 2px 0 10px rgba(0,0,0,0.1);
      z-index: 1001;
      transition: var(--transition);
      padding: 70px 20px 20px;
      overflow-y: auto;
    }
    #sidebar.active {
      left: 0;
    }
    .sidebar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }
    .chapter-tree details {
      margin-bottom: 10px;
    }
    .chapter-tree summary {
      font-weight: 600;
      padding: 10px;
      cursor: pointer;
      background: #f5f7fa;
      border-radius: 8px;
    }
    .chapter-tree a {
      display: block;
      padding: 8px 15px;
      text-decoration: none;
      color: #333;
      transition: var(--transition);
      border-left: 3px solid transparent;
    }
    .chapter-tree a:hover {
      color: var(--primary);
      border-left: 3px solid var(--accent);
      background: #f0f9ff;
    }
    
    /* 内容编辑区 */
    .content-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid var(--accent);
    }
    .editable-area {
      min-height: 400px;
      padding: 20px;
      border-radius: 10px;
      background: white;
      box-shadow: var(--shadow);
      margin-top: 20px;
      border: 1px dashed #d1e7ff;
    }
    
    /* 校园地图模块 */
    #map-container {
      height: 500px;
      border-radius: 12px;
      overflow: hidden;
      margin-top: 20px;
    }
    .map-controls {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
    }
    .map-controls button {
      padding: 8px 15px;
      border-radius: 20px;
      background: var(--primary);
      color: white;
      border: none;
      cursor: pointer;
    }
    
    /* 评论区 */
    .comment-section {
      margin-top: 30px;
    }
    .comment-editor {
      padding: 15px;
      margin-bottom: 20px;
    }
    .comment-editor textarea {
      width: 100%;
      height: 80px;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ddd;
      resize: none;
    }
    .editor-actions {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 10px;
    }
    .comment-list {
      max-height: 400px;
      overflow-y: auto;
    }
    .comment-item {
      display: flex;
      gap: 15px;
      padding: 15px;
      border-bottom: 1px solid #eee;
    }
    .comment-item .avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
    }
    .comment-body {
      flex: 1;
    }
    .comment-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 5px;
    }
    .badge.teacher {
      background: var(--accent);
      color: #333;
      padding: 2px 8px;
      border-radius: 10px;
      font-size: 0.8rem;
    }
    
    /* 底部导航 */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: var(--glass-bg);
      box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
      padding: 10px;
      display: flex;
      justify-content: space-around;
      z-index: 999;
    }
    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 8px 15px;
      border-radius: 50px;
      transition: var(--transition);
      cursor: pointer;
    }
    .nav-item.active {
      background: #f0f9ff;
    }
    .nav-item img {
      width: 24px;
      height: 24px;
      margin-bottom: 5px;
    }
    .nav-item span {
      font-size: 0.8rem;
      color: #555;
    }
    
    /* 响应式优化 */
    @media (max-width: 768px) {
      .button-grid {
        grid-template-columns: 1fr;
      }
      .content-section {
        padding: 15px;
      }
      #home h1 {
        font-size: 1.8rem;
      }
      .nav-button {
        min-height: 120px;
        padding: 15px 10px;
      }
      #map-container {
        height: 300px;
      }
    }
    @media (max-width: 480px) {
      .bottom-nav .nav-item span {
        display: none;
      }
      .nav-item {
        padding: 10px;
      }
      .global-search input {
        width: 120px;
      }
    }
  </style>
</head>
<body>
  <!-- 顶部导航栏 -->
  <header class="global-header glass-card">
    <button id="sidebarToggle">☰</button>
    <a href="#home" class="logo">十堰一中指南</a>
    <div class="breadcrumb">
      <span>当前位置：</span>
      <a href="#home">首页</a> > <span id="current-chapter">总体介绍</span>
    </div>
    <!-- 全局搜索 -->
    <div class="global-search">
      <input type="text" placeholder="搜索指南内容..." id="globalSearch">
      <div class="suggestions-box glass-card">
        <div class="suggestion-item" data-type="chapter">
          <span>第一章：校园生活指南</span>
          <small>宿舍管理 · 食堂攻略</small>
        </div>
        <div class="suggestion-item" data-type="location">
          <span>图书馆位置</span>
          <small>校园地图模块</small>
        </div>
      </div>
    </div>
  </header>
  
  <!-- 侧边目录 -->
  <div id="sidebar" class="glass-card">
    <div class="sidebar-header">
      <h3>目录导航</h3>
      <button id="closeSidebar">✕</button>
    </div>
    <div class="chapter-tree">
      <details open>
        <summary>校园生活指南</summary>
        <a href="#" data-chapter="1">校园概况</a>
        <a href="#" data-chapter="1">宿舍管理</a>
        <a href="#" data-chapter="1">食堂攻略</a>
      </details>
      <details>
        <summary>学习资源导航</summary>
        <a href="#" data-chapter="2">图书馆指南</a>
        <a href="#" data-chapter="2">实验室使用</a>
        <a href="#" data-chapter="2">自习室分布</a>
      </details>
      <details>
        <summary>校园文化</summary>
        <a href="#" data-chapter="3">社团活动</a>
        <a href="#" data-chapter="3">传统节日</a>
        <a href="#" data-chapter="3">校史长廊</a>
      </details>
    </div>
  </div>
  
  <!-- 首页内容 -->
  <div id="home" class="content-section active">
    <h1>从指南开始の十堰一中生活</h1>
    <p>枫糖悠悠制作</p>
    <div class="button-grid">
      <button class="nav-button glass-card" onclick="showSection('overview')">
        <img src="assets/icons/intro-icon.png" alt="总体介绍">
        <span>总体介绍与概览</span>
      </button>
      <button class="nav-button glass-card" onclick="showSection('toc')">
        <img src="assets/icons/toc-icon.png" alt="目录">
        <span>目录</span>
      </button>
      <button class="nav-button glass-card" onclick="showSection('map')">
        <img src="assets/icons/map-icon.png" alt="地图">
        <span>校园地图导航</span>
      </button>
      <button class="nav-button glass-card" onclick="loadChapter(1)">
        <img src="assets/icons/start-icon.png" alt="开始">
        <span>从指南开始，了解一中吧！</span>
      </button>
      <button class="nav-button glass-card" onclick="showSection('credits')">
        <img src="assets/icons/credits-icon.png" alt="鸣谢">
        <span>制作与鸣谢</span>
      </button>
    </div>
  </div>
  
  <!-- 总体介绍 -->
  <div id="overview" class="content-section">
    <div class="content-header">
      <h2>总体介绍与概览</h2>
      <button onclick="showSection('home')">← 返回</button>
    </div>
    <div class="editable-area glass-card" contenteditable="true">
      <h3>十堰市第一中学简介</h3>
      <p>十堰一中创建于1973年，是湖北省首批重点中学和省级示范高中。学校位于十堰市中心城区，占地253亩，建筑面积99851平方米，现有75个教学班，4600余名学生。</p>
      
      <h3>办学特色</h3>
      <p>秉承"育人为本，德育为先，师生共进，全面发展"的办学理念，着力打造"低进高出、高进优出、优进特出、多元发展"人才培养的品牌高地。封闭式管理，开放式教育，成为十堰一中的鲜明特色。</p>
      
      <h3>校训</h3>
      <p style="font-size: 1.2rem; color: var(--primary); font-weight: bold;">文明勤奋 · 求实进取</p>
      
      <h3>教学成果</h3>
      <p>2022年高考升学率保持在90%以上，在十堰市高中学校中名列前茅。仅2003年至2006年四年间，学校就培养出5个全市高考状元。</p>
    </div>
  </div>
  
  <!-- 目录页 -->
  <div id="toc" class="content-section">
    <div class="content-header">
      <h2>指南目录</h2>
      <button onclick="showSection('home')">← 返回</button>
    </div>
    <div id="chapter-buttons" class="button-grid"></div>
  </div>
  
  <!-- 校园地图 -->
  <div id="map" class="content-section">
    <div class="content-header">
      <h2>校园全景导航</h2>
      <button onclick="showSection('home')">← 返回</button>
    </div>
    <div class="map-controls">
      <div class="search-box">
        <input type="text" id="mapSearch" placeholder="搜索教学楼、食堂、实验室...">
        <button onclick="searchLocation()"><img src="assets/icons/search-icon.svg"></button>
      </div>
      <div class="map-layers">
        <button data-layer="default">常规地图</button>
        <button data-layer="satellite">卫星视图</button>
        <button data-layer="ar" onclick="activateAR()">AR导航</button>
      </div>
    </div>
    <div id="map-container"></div>
    <div class="location-card glass-card">
      <h3 id="location-name">图书馆</h3>
      <p>开放时间：8:00-22:00</p>
      <button onclick="planRoute()">路线规划</button>
    </div>
  </div>
  
  <!-- 章节内容 -->
  <div id="chapter-container" class="content-section">
    <div class="content-header">
      <h2 id="chapter-title">第一章：校园生活指南</h2>
      <button onclick="showSection('toc')">← 返回目录</button>
    </div>
    <div id="chapter-content" class="editable-area glass-card" contenteditable="true">
      <!-- 内容通过JavaScript动态加载 -->
    </div>
    
    <!-- 评论区 -->
    <div class="comment-section glass-card">
      <h3>校友交流区 <span>(286条)</span></h3>
      <div class="comment-editor">
        <textarea placeholder="分享你的校园经验..."></textarea>
        <div class="editor-actions">
          <button class="emoji-picker">😊</button>
          <button class="submit">发布评论</button>
        </div>
      </div>
      <div class="comment-list">
        <div class="comment-item">
          <img src="assets/avatars/user1.jpg" class="avatar">
          <div class="comment-body">
            <div class="comment-header">
              <strong>李校友</strong>
              <span>2小时前</span>
              <button class="like-btn">♥ 42</button>
            </div>
            <p>食堂二楼的牛肉面绝对是隐藏美食！毕业三年仍念念不忘...</p>
          </div>
        </div>
        <div class="comment-item">
          <img src="assets/avatars/teacher1.jpg" class="avatar">
          <div class="comment-body">
            <div class="comment-header">
              <strong>张老师</strong>
              <span class="badge teacher">教师认证</span>
              <span>1小时前</span>
              <button class="like-btn">♥ 8</button>
            </div>
            <p>确实，每天限量50碗要早去排队，建议11:30前到食堂</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- 制作鸣谢 -->
  <div id="credits" class="content-section">
    <div class="content-header">
      <h2>制作与鸣谢</h2>
      <button onclick="showSection('home')">← 返回</button>
    </div>
    <div class="editable-area glass-card" contenteditable="true">
      <h3>制作团队</h3>
      <p>本指南由十堰一中学生社团"枫糖悠悠"独立开发制作，旨在帮助新生快速适应校园生活。</p>
      
      <h3>特别鸣谢</h3>
      <ul>
        <li>十堰一中校方提供的信息支持</li>
        <li>石彬老师（英语特级教师）提供的校史资料</li>
        <li>孙福胜老师（地理高级教师）的校园地理指导</li>
      </ul>
      
      <h3>数据来源</h3>
      <p>十堰一中官方网站：<a href="http://www.syyz.net" target="_blank">www.syyz.net</a></p>
    </div>
  </div>
  
  <!-- 底部导航 -->
  <div class="bottom-nav glass-card">
    <div class="nav-item active" onclick="showSection('home')">
      <img src="assets/icons/home-icon.png" alt="首页">
      <span>首页</span>
    </div>
    <div class="nav-item" onclick="showSection('overview')">
      <img src="assets/icons/info-icon.png" alt="概览">
      <span>概览</span>
    </div>
    <div class="nav-item" onclick="showSection('toc')">
      <img src="assets/icons/book-icon.png" alt="目录">
      <span>目录</span>
    </div>
    <div class="nav-item" onclick="showSection('map')">
      <img src="assets/icons/map-icon.png" alt="地图">
      <span>地图</span>
    </div>
    <div class="nav-item" onclick="showSection('credits')">
      <img src="assets/icons/thanks-icon.png" alt="鸣谢">
      <span>鸣谢</span>
    </div>
  </div>

  <script>
    // 章节数据（可扩展）
    const chapters = [
      {
        id: 1,
        title: "校园生活指南",
        sections: [
          {
            title: "校园概况",
            content: `<h3>校园布局</h3>
            <p>十堰一中位于十堰市中心城区，分为五堰北街17号（人民路校门）和北京北路78号（北京路校门）两个校区。学校拥有四栋教学楼、六栋学生公寓、科技信息楼和室内体育馆。</p>
            <h3>设施配备</h3>
            <ul>
              <li>教室配备智慧黑板、空调和投影仪</li>
              <li>宿舍配备空调、暖气及独立卫生间</li>
              <li>图书馆藏书16万册，是全省地市州中第一家"普通中学达标图书馆"</li>
            </ul>`
          },
          {
            title: "宿舍管理",
            content: `<h3>住宿规定</h3>
            <p>学校实行封闭式管理，宿舍每晚22:30熄灯。学生需遵守以下规定：</p>
            <ol>
              <li>保持宿舍整洁，每日轮值打扫</li>
              <li>禁止使用大功率电器</li>
              <li>外来人员需登记访问</li>
            </ol>`
          }
        ]
      },
      {
        id: 2,
        title: "学习资源导航",
        sections: [
          {
            title: "图书馆指南",
            content: `<h3>开放时间</h3>
            <p>周一至周五：8:00-21:00<br>周末：9:00-17:00</p>
            <h3>借阅规则</h3>
            <ul>
              <li>学生证借书，每次最多5本</li>
              <li>借期30天，可续借一次</li>
              <li>逾期每天罚款0.2元</li>
            </ul>`
          }
        ]
      }
    ];
    
    // DOM元素
    const contentSections = document.querySelectorAll('.content-section');
    const sidebar = document.getElementById('sidebar');
    const chapterButtons = document.getElementById('chapter-buttons');
    const chapterTitle = document.getElementById('chapter-title');
    const chapterContent = document.getElementById('chapter-content');
    const currentChapter = document.getElementById('current-chapter');
    const globalSearch = document.getElementById('globalSearch');
    const suggestionsBox = document.querySelector('.suggestions-box');
    
    // 初始化目录按钮
    function initTocButtons() {
      chapters.forEach(chapter => {
        const button = document.createElement('button');
        button.className = 'nav-button glass-card';
        button.innerHTML = `
          <img src="assets/icons/chapter-${chapter.id}.png" alt="${chapter.title}">
          <span>${chapter.title}</span>
        `;
        button.onclick = () => loadChapter(chapter.id);
        chapterButtons.appendChild(button);
      });
    }
    
    // 显示指定区域
    function showSection(sectionId) {
      // 更新面包屑导航
      const sectionNames = {
        'home': '首页',
        'overview': '总体介绍',
        'toc': '目录',
        'map': '校园地图',
        'chapter-container': '章节内容',
        'credits': '制作鸣谢'
      };
      currentChapter.textContent = sectionNames[sectionId];
      
      // 更新活动状态
      contentSections.forEach(section => {
        section.classList.remove('active');
      });
      document.getElementById(sectionId).classList.add('active');
      sidebar.classList.remove('active');
      suggestionsBox.style.display = 'none';
      
      // 更新底部导航状态
      document.querySelectorAll('.bottom-nav .nav-item').forEach(item => {
        item.classList.remove('active');
      });
      if(sectionId === 'home') {
        document.querySelector('.bottom-nav .nav-item:nth-child(1)').classList.add('active');
      }
    }
    
    // 加载章节内容
    function loadChapter(chapterId) {
      const chapter = chapters.find(c => c.id === chapterId);
      if (!chapter) return;
      
      chapterTitle.textContent = chapter.title;
      chapterContent.innerHTML = chapter.sections[0].content;
      showSection('chapter-container');
      
      // 保存阅读进度
      localStorage.setItem('lastChapter', chapterId);
    }
    
    // 搜索功能
    globalSearch.addEventListener('input', function() {
      if (this.value.length > 1) {
        suggestionsBox.style.display = 'block';
      } else {
        suggestionsBox.style.display = 'none';
      }
    });
    
    // 校园地图功能
    function activateAR() {
      if (navigator.geolocation) {
        alert('AR导航已激活！请移动设备查看实景路线');
      } else {
        alert('您的设备不支持AR导航功能');
      }
    }
    
    // 侧边栏交互
    document.getElementById('sidebarToggle').onclick = () => {
      sidebar.classList.add('active');
    };
    document.getElementById('closeSidebar').onclick = () => {
      sidebar.classList.remove('active');
    };
    
    // 目录树交互
    document.querySelectorAll('.chapter-tree a').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const chapterId = link.getAttribute('data-chapter');
        loadChapter(parseInt(chapterId));
      });
    });
    
    // 页面加载时初始化
    window.onload = () => {
      initTocButtons();
      
      // 恢复上次阅读进度
      const lastChapter = localStorage.getItem('lastChapter');
      if (lastChapter) {
        loadChapter(parseInt(lastChapter));
      }
      
      // 侧边栏点击外部关闭
      document.addEventListener('click', (e) => {
        if (!sidebar.contains(e.target) && e.target.id !== 'sidebarToggle') {
          sidebar.classList.remove('active');
        }
      });
    };
  </script>
</body>
</html>